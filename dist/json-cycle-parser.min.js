/*! json-cycle-parser 14-02-2015 */
(function(){angular.module("JsonCycleParser",[]).factory("JsonCycleParser",["$log",function(){var a;return a=function(){function a(a){this.json=a,this.isJson(this.json)&&(this.identify="@id",this.identifyReg=/^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$/,this.objMappings={},this.redefineds=[],this.parseJson(this.json),this.definedGetters(this.redefineds))}return a.prototype.parseJson=function(a){var b,c,d;if(this.isJson(a)){b=null;for(c in a)if(d=a[c],c!==this.identify)if("string"!=typeof d)d instanceof Array?this.parseArray(d):d instanceof Object&&this.parseJson(d);else{if(!this.identifyReg.test(d))continue;this.redefineds.push({json:a,field:c})}else b=d;return b?this.objMappings[b]=a:void 0}},a.prototype.parseArray=function(a){var b,c,d,e;if(a&&0!==a.length){for(e=[],c=0,d=a.length;d>c;c++)b=a[c],b instanceof Array?this.parseArray(b):e.push(b instanceof Object?this.parseJson(b):void 0);return e}},a.prototype.definedGetters=function(a){var b,c,d,e;if(a&&0!==a.length){for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(this.definedGetter(b.json,b.field));return e}},a.prototype.definedGetter=function(a,b){var c;if(this.isJson(a)&&b)return c=a[b],this.identifyReg.test(c)&&(c=this.objMappings[c]),a.__defineGetter__(b,function(){return c})},a.prototype.isJson=function(a){var b;if(!a)return!1;try{return JSON.stringify(a),!0}catch(c){return b=c,!1}},a}()}])}).call(this);